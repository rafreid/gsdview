# Phase 36: Live Dashboard View - Plan

## Goal
User sees real-time activity status showing what Claude is doing right now.

## Requirements Addressed
- DASH-01: Current operation indicator (reading/writing/thinking/idle)
- DASH-02: Active file highlighting with pulsing animation
- DASH-03: Rolling sparkline chart showing last 5 minutes of operation frequency
- DASH-04: Session statistics dashboard (files touched, operations count, time active)
- DASH-05: Tab controls to toggle Dashboard view
- DASH-06: State preservation when switching views

## Implementation Tasks

### Task 1: Create Dashboard Renderer Module
- Create `src/renderer/dashboard-renderer.js`
- Implement mount/unmount lifecycle for view switching
- Track session statistics (files touched, operation counts, time)
- Maintain rolling activity data for sparkline

### Task 2: Create Activity Dispatcher
- Create `src/renderer/activity-dispatcher.js`
- Centralize routing of file operations to all renderers
- Dispatch Claude Code hook events and file watcher events
- Normalize operation types across different event sources

### Task 3: Update View Controller
- Extend `src/renderer/view-controller.js` for 5 views
- Import dashboard, heatmap, timeline renderer mount/unmount
- Update switchToView to handle all view types
- Manage container visibility and tab states

### Task 4: Create Heatmap Renderer Module
- Create `src/renderer/heatmap-renderer.js`
- Treemap visualization with file size and activity heat
- Drill-down navigation into directories
- Time range filtering (hour/session/all)

### Task 5: Create Timeline Renderer Module
- Create `src/renderer/timeline-renderer.js`
- Horizontal timeline with swimlanes by file
- Color-coded operation blocks (read/write/create/delete)
- Zoom, pan, scrub, and playback controls
- Pattern detection for read-then-write sequences

### Task 6: Update HTML Structure
- Add Dashboard view tab and container
- Add Heatmap view tab and container
- Add Timeline view tab and container
- Include all required DOM elements for renderers

### Task 7: Add CSS Styles
- Dashboard grid layout with cards
- Heatmap header, breadcrumb, filters, treemap styles
- Timeline controls and canvas styles
- Filter button and speed selector styles

### Task 8: Wire Up Event Routing
- Import activity-dispatcher in graph-renderer.js
- Call dispatchClaudeOperation for Claude hook events
- Call dispatchFileChange for file watcher events

## Verification
1. Switch to Dashboard view via tab - should see empty dashboard
2. Make file changes - session stats should update
3. Switch to Heatmap view - should see treemap placeholder
4. Switch to Timeline view - should see empty timeline
5. Switch back to Graph view - no errors, camera preserved
