---
phase: 01-foundation
plan: 01
type: execute
wave: 1
depends_on: []
files_modified:
  - package.json
  - src/main/main.js
  - src/main/preload.js
  - src/renderer/index.html
autonomous: true

must_haves:
  truths:
    - "User can launch the app and see a window"
    - "Window displays basic HTML content"
    - "App can be started with npm start"
  artifacts:
    - path: "package.json"
      provides: "Electron dependency and start script"
      contains: "electron"
    - path: "src/main/main.js"
      provides: "Electron main process"
      contains: "BrowserWindow"
    - path: "src/main/preload.js"
      provides: "Context bridge for IPC"
      contains: "contextBridge"
    - path: "src/renderer/index.html"
      provides: "Basic HTML shell"
      contains: "<html"
  key_links:
    - from: "package.json"
      to: "src/main/main.js"
      via: "main entry point"
      pattern: '"main".*main.js'
    - from: "src/main/main.js"
      to: "src/renderer/index.html"
      via: "loadFile call"
      pattern: "loadFile.*index.html"
---

<objective>
Create a minimal Electron application scaffold that opens a window.

Purpose: This is the foundation for the entire GSD Viewer. Without a working Electron shell, nothing else can be built.
Output: A runnable Electron app with package.json, main process, preload script, and basic HTML.
</objective>

<execution_context>
@~/.claude/get-shit-done/workflows/execute-plan.md
@~/.claude/get-shit-done/templates/summary.md
</execution_context>

<context>
@.planning/PROJECT.md
@.planning/ROADMAP.md
@.planning/STATE.md
</context>

<tasks>

<task type="auto">
  <name>Task 1: Initialize Electron project</name>
  <files>package.json</files>
  <action>
Create package.json with:
- name: "gsd-viewer"
- version: "0.1.0"
- main: "src/main/main.js"
- scripts: { "start": "electron ." }
- devDependencies: electron (latest stable, currently ^28.0.0 or similar)

Run `npm install` to install dependencies.

Use ES modules (type: "module" is optional for Electron - stick with CommonJS for simplicity in main process).
  </action>
  <verify>
`npm install` completes without errors.
`cat package.json` shows electron in devDependencies.
  </verify>
  <done>package.json exists with electron dependency installed</done>
</task>

<task type="auto">
  <name>Task 2: Create Electron main process and preload</name>
  <files>src/main/main.js, src/main/preload.js</files>
  <action>
Create src/main/main.js:
- Import electron's app, BrowserWindow
- Create main window (1200x800 default size)
- Set webPreferences: { preload: path to preload.js, contextIsolation: true, nodeIntegration: false }
- Load src/renderer/index.html when app is ready
- Handle window-all-closed event (quit app on non-macOS, or always for simplicity)

Create src/main/preload.js:
- Import contextBridge and ipcRenderer from electron
- Set up contextBridge.exposeInMainWorld('electronAPI', {})
- Leave the API object empty for now - will be populated in Plan 03

Directory structure:
```
src/
  main/
    main.js
    preload.js
  renderer/
    index.html
```
  </action>
  <verify>
Files exist: `ls src/main/main.js src/main/preload.js`
main.js contains BrowserWindow creation
  </verify>
  <done>Main process creates window, preload enables secure IPC</done>
</task>

<task type="auto">
  <name>Task 3: Create renderer HTML and verify app runs</name>
  <files>src/renderer/index.html</files>
  <action>
Create src/renderer/index.html:
- Standard HTML5 doctype
- Title: "GSD Viewer"
- Body with a simple h1: "GSD Viewer" and p: "Select a project folder to begin"
- Add a div with id="graph-container" (placeholder for 3d-force-graph in Plan 02)
- Add basic CSS: dark background (#1a1a2e), light text (#eee), full viewport height
- No external scripts yet - those come in Plan 02

Run `npm start` to verify the app launches and shows the window.
  </action>
  <verify>
`npm start` launches Electron window.
Window displays "GSD Viewer" heading.
Window can be closed normally.
  </verify>
  <done>Electron app launches and displays basic UI</done>
</task>

</tasks>

<verification>
After all tasks complete:
1. `npm start` launches the Electron app
2. A window appears with "GSD Viewer" title
3. Dark themed UI is visible
4. App closes cleanly when window is closed
</verification>

<success_criteria>
- Electron app launches without errors
- Window displays at 1200x800 with dark theme
- All files exist in expected locations
- Ready for 3d-force-graph integration (Plan 02) and folder dialog (Plan 03)
</success_criteria>

<output>
After completion, create `.planning/phases/01-foundation/01-01-SUMMARY.md`
</output>
